---
import Layout from '../../layouts/layout/Layout.astro';
import {ConferenceTable} from "../../components";
import FilterBar from '../../reactComponents/filterBar/FilterBar';
import { getUpcomingConferences, getAllConferences } from "../../service/api/conferenceAPI";
import {getCurrentDate, addQuotesToString} from "../../utils/utils";
import { conferenceData } from '../../store/store';

const currentDate = getCurrentDate();
const convertedDate = addQuotesToString(currentDate);
const {data, hasEndCursor, hasNextPage} = await getAllConferences();
const currentYear = currentDate.split("-")[0];
const conferenceState = conferenceData.get();
console.log("conferenceState", conferenceState)

---

<Layout title="Dev resources">
	<main class="">
	 	<h1 class="text-[30px] sm:text-[40px] lg:text-[56px] font-[800] text-neutral-base -tracking-[1.12px] mt-[30px] lg:mt-[40px]">
    	Developers Conferences
  		</h1>
		<p class="text-neutrals-800 font-[500] text-[25px] sm:text-[30px] lg:text-[40px]">for {currentYear}</p>
		<p class="text-[14px] sm:text-[16px] lg:text-[18px] pt-[12px] text-neutrals-600 pb-[48px]">A curated list of the developer conferences for {currentYear} and beyond</p>
		<FilterBar client:load/>
		<ConferenceTable data={data}/>
	</main>
</Layout>